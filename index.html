<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casamento Amanda e Mauricio</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      background-color: #fffaf5;
      color: #4a3b2f;
    }

    header {
      text-align: center;
      padding: 2rem 1rem;
      background-color: #e8d9ce;
      border-bottom: 2px solid #d6bfae;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      color: #8b3e2f;
      font-size: 2.2rem;
      margin-bottom: 0.2rem;
    }

    header img {
      width: 50px;
      margin-top: 10px;
    }

    nav {
      margin-top: 1rem;
    }

    nav button {
      margin: 0.3rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background-color: #a0522d;
      color: white;
      font-weight: bold;
      border-radius: 20px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    nav button:hover,
    nav button.active {
      background-color: #8b3e2f;
    }

    main {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: 0 auto;
    }

    .tab {
      display: none;
    }

    .tab.active {
      display: block;
    }

    .cotas button {
      margin: 5px;
      padding: 10px 20px;
      font-size: 1rem;
      border: 1px solid #a0522d;
      background-color: #fff;
      cursor: pointer;
      border-radius: 8px;
      transition: background-color 0.3s;
    }

    .cotas button:hover {
      background-color: #f3ede5;
    }

    .presentes li {
      margin: 8px 0;
      cursor: pointer;
    }

    .presentes li.adquirido {
      color: gray;
      text-decoration: line-through;
    }

    footer {
      text-align: center;
      background-color: #e8d9ce;
      padding: 1rem;
      font-size: 0.9rem;
      color: #5e4c43;
    }

    .mensagem-agradecimento {
      font-size: 1rem;
      color: #a0522d;
      font-style: italic;
      margin-bottom: 1rem;
    }

    .mural input, .mural textarea {
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
    }

    .mural button {
      background-color: #a0522d;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
    }

    .mural .mensagens {
      margin-top: 1rem;
      background-color: #fff8f2;
      padding: 1rem;
      border-radius: 8px;
    }

    .mural .mensagens p {
      border-bottom: 1px solid #e0d6cd;
      padding: 0.5rem 0;
    }

    @media (max-width: 600px) {
      header h1 {
        font-size: 1.5rem;
      }

      nav button {
        padding: 0.4rem 1rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Casamento Amanda & Mauricio</h1>
    <p>13 de junho de 2025</p>
    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Wedding_rings_icon.svg/1200px-Wedding_rings_icon.svg.png" alt="Alianças de Casamento">
    <nav>
      <button onclick="showTab('inicio')" class="active">Início</button>
      <button onclick="showTab('local')">Local</button>
      <button onclick="showTab('presentes')">Presentes</button>
      <button onclick="showTab('rsvp')">RSVP</button>
      <button onclick="showTab('mural')">Mural de Recados</button>
    </nav>
  </header>

  <main>
    <section id="inicio" class="tab active">
      <h2>Sejam bem-vindos ao nosso grande dia!</h2>
      <p>Santo Antônio como guia e o amor como combustível, enfim pousamos neste momento tão esperado. Com nossa co-pilota mais especial, nossa filha, ao nosso lado, celebramos o que sempre foi destino: dizer 'SIM'.</p>
    </section>

    <section id="local" class="tab">
      <h2>Local da Cerimônia</h2>
      <p><strong>19h45</strong> - Comunidade São Pedro e São Paulo</p>
      <p>Rua Benedito Barbosa de Oliveira - Jardim Bom Retiro (Nova Veneza), Sumaré - SP</p>

      <h2>Recepção</h2>
      <p>Recanto Santo Antônio - Pomares do Quilombo</p>
      <p>Rua dos Pequis - Jardim Marchissolo, Sumaré - SP</p>
    </section>

    <section id="presentes" class="tab">
      <p class="mensagem-agradecimento">Muito obrigado por estarem ao nosso lado nesse momento especial! Sabemos que cada presente representa o amor, presença e apoio que temos de nossos amigos e familiares e sempre os levaremos em nossos corações.</p>

      <h3>Como Presentear</h3>
      <p>Alguns dos presentes da nossa lista estão disponíveis em formato de cotas em dinheiro. Escolha um dos valores abaixo e envie sua contribuição via Pix.</p>
      <p><strong>Chave Pix:</strong> 19981870068</p>
      <p><strong>Nome:</strong> Amanda Evangelista Leite</p>
      <div class="cotas">
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$200</button>
        <button>Outro valor</button>
      </div>

      <h3>Lista de Presentes Físicos</h3>
      <ul class="presentes">
        <li>Jogo de cama - <a href="#">ver item</a></li>
        <li>Panela de pressão - <a href="#">ver item</a></li>
        <li>Liquidificador - <a href="#">ver item</a></li>
        <li>Conjunto de pratos - <a href="#">ver item</a></li>
      </ul>
    </section>

    <section id="rsvp" class="tab">
      <h2>Confirmação de Presença</h2>
      <p>Em breve você poderá confirmar sua presença por aqui.</p>
    </section>

    <section id="mural" class="tab mural">
      <h2>Mural de Recados</h2>
      <input type="text" id="nome" placeholder="Seu nome" />
      <textarea id="mensagem" rows="4" placeholder="Deixe sua mensagem..."></textarea>
      <button onclick="enviarMensagem()">Enviar mensagem</button>
      <div class="mensagens" id="mensagens"></div>
    </section>
  </main>

  <footer>
    <p>Com carinho, Amanda & Mauricio</p>
  </footer>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, onValue, set, push } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCVMEkMSwvYOzC83eQSxkRS655GSOmAPoA",
      authDomain: "casamento-amanda-mauricio.firebaseapp.com",
      databaseURL: "https://casamento-amanda-mauricio-default-rtdb.firebaseio.com",
      projectId: "casamento-amanda-mauricio",
      storageBucket: "casamento-amanda-mauricio.appspot.com",
      messagingSenderId: "1033630818479",
      appId: "1:1033630818479:web:0f4f59df3ec85ed9b0745a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const presentes = document.querySelectorAll(".presentes li");

    function nomePresente(el) {
      return el.innerText.split(" - ")[0].replace("✔️", "").trim();
    }

    function atualizar(snapshot) {
      const dados = snapshot.val() || {};
      presentes.forEach(li => {
        const nome = nomePresente(li);
        if (dados[nome]) {
          li.classList.add("adquirido");
          if (!li.innerText.startsWith("✔️")) {
            li.innerHTML = "✔️ " + li.innerHTML;
          }
        } else {
          li.classList.remove("adquirido");
          li.innerHTML = li.innerHTML.replace("✔️ ", "");
        }
      });
    }

    onValue(ref(db, "presentes"), atualizar);

    presentes.forEach(li => {
      li.addEventListener("click", () => {
        const nome = nomePresente(li);
        const refPresente = ref(db, "presentes/" + nome);
        if (!li.classList.contains("adquirido")) {
          set(refPresente, true);
        }
      });
    });

    // Mural de Recados
    const nomeInput = document.getElementById("nome");
    const mensagemInput = document.getElementById("mensagem");
    const mensagensDiv = document.getElementById("mensagens");

    function enviarMensagem() {
      const nome = nomeInput.value.trim();
      const texto = mensagemInput.value.trim();
      if (nome && texto) {
        push(ref(db, "mensagens"), { nome, texto });
        nomeInput.value = "";
        mensagemInput.value = "";
      }
    }

    onValue(ref(db, "mensagens"), (snapshot) => {
      mensagensDiv.innerHTML = "";
      const dados = snapshot.val();
      if (dados) {
        Object.values(dados).forEach(msg => {
          const p = document.createElement("p");
          p.innerHTML = `<strong>${msg.nome}:</strong> ${msg.texto}`;
          mensagensDiv.appendChild(p);
        });
      }
    });

    // Navegação
    function showTab(id) {
      document.querySelectorAll(".tab").forEach(tab => tab.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("active"));
      event.target.classList.add("active");
    }
  </script>
</body>
</html>
