<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casamento Amanda e Mauricio</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --terracota: #a0522d;
      --verde: #6b8e23;
      --palha: #fffaf0;
      --bege: #f5f5dc;
      --branco: #ffffff;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      background-color: var(--palha);
      color: #333;
    }

    header {
      background-color: var(--bege);
      padding: 2rem 1rem;
      text-align: center;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      color: var(--terracota);
      font-size: 2.5rem;
      margin: 0;
    }

    header img {
      width: 40px;
      margin: 0 10px -10px 0;
      vertical-align: middle;
    }

    nav {
      margin-top: 1rem;
    }

    nav button {
      margin: 0.3rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background-color: var(--terracota);
      color: white;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
    }

    nav button:hover,
    nav button.active {
      background-color: #8b4513;
    }

    main {
      padding: 2rem 1rem;
      max-width: 800px;
      margin: auto;
    }

    .tab {
      display: none;
    }

    .tab.active {
      display: block;
      animation: fadeIn 0.5s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .cotas button {
      margin: 6px;
      padding: 10px 16px;
      font-size: 1rem;
      border: 1px solid var(--terracota);
      background-color: var(--branco);
      color: var(--terracota);
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
    }

    .cotas button:hover {
      background-color: var(--terracota);
      color: var(--branco);
    }

    .presentes li {
      margin: 8px 0;
      cursor: pointer;
    }

    .presentes li.adquirido {
      color: gray;
      text-decoration: line-through;
    }

    footer {
      text-align: center;
      background-color: var(--bege);
      padding: 1rem;
      font-size: 0.9rem;
      margin-top: 2rem;
    }

    textarea {
      width: 100%;
      padding: 10px;
      font-family: 'Quicksand';
      font-size: 1rem;
      margin-bottom: 10px;
    }

    .mensagem {
      border-left: 4px solid var(--terracota);
      padding-left: 10px;
      margin-bottom: 10px;
      background-color: #fffdf7;
    }
  </style>
</head>
<body>
  <header>
    <h1><img src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Wedding_rings_icon.svg" alt="Alianças"> Amanda & Mauricio</h1>
    <p>13 de junho de 2025</p>
    <nav>
      <button onclick="showTab('inicio')" class="active">Início</button>
      <button onclick="showTab('local')">Local</button>
      <button onclick="showTab('presentes')">Presentes</button>
      <button onclick="showTab('rsvp')">RSVP</button>
      <button onclick="showTab('recados')">Mural de Recados</button>
    </nav>
  </header>

  <main>
    <section id="inicio" class="tab active">
      <h2>Sejam bem-vindos ao nosso grande dia!</h2>
      <p>Santo Antônio como guia e o amor como combustível, enfim pousamos neste momento tão esperado. Com nossa co-pilota mais especial, nossa filha, ao nosso lado, celebramos o que sempre foi destino: dizer 'SIM'.</p>
    </section>

    <section id="local" class="tab">
      <h2>Local da Cerimônia</h2>
      <p><strong>19h45</strong> - Comunidade São Pedro e São Paulo</p>
      <p>Rua Benedito Barbosa de Oliveira - Jardim Bom Retiro (Nova Veneza), Sumaré - SP</p>
      <h2>Recepção</h2>
      <p>Recanto Santo Antônio - Pomares do Quilombo</p>
      <p>Rua dos Pequis - Jardim Marchissolo, Sumaré - SP</p>
    </section>

    <section id="presentes" class="tab">
      <h3>Como Presentear</h3>
      <p>Contribua com cotas em dinheiro via Pix ou escolha um presente físico.</p>
      <p><strong>Chave Pix:</strong> 19981870068</p>
      <p><strong>Nome:</strong> Amanda Evangelista Leite</p>
      <div class="cotas">
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$200</button>
        <button>Outro valor</button>
      </div>

      <h3>Presentes Físicos</h3>
      <ul class="presentes">
        <li>Jogo de cama - <a href="#" target="_blank">ver item</a></li>
        <li>Panela de pressão - <a href="#" target="_blank">ver item</a></li>
        <li>Liquidificador - <a href="#" target="_blank">ver item</a></li>
        <li>Conjunto de pratos - <a href="#" target="_blank">ver item</a></li>
      </ul>
    </section>

    <section id="rsvp" class="tab">
      <h2>Confirmação de Presença</h2>
      <p>Em breve você poderá confirmar sua presença por aqui.</p>
    </section>

    <section id="recados" class="tab">
      <h2>Mural de Recados</h2>
      <textarea id="novaMensagem" rows="4" placeholder="Escreva uma mensagem para os noivos..."></textarea>
      <button onclick="enviarRecado()">Enviar mensagem</button>
      <div id="mensagens"></div>
    </section>
  </main>

  <footer>
    <p>Com carinho, Amanda & Mauricio</p>
  </footer>

  <script>
    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
      document.querySelectorAll("nav button").forEach(btn => btn.classList.remove("active"));
      document.querySelector(`nav button[onclick="showTab('${tabId}')"]`).classList.add("active");
    }
  </script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, onValue, set, push } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCVMEkMSwvYOzC83eQSxkRS655GSOmAPoA",
      authDomain: "casamento-amanda-mauricio.firebaseapp.com",
      databaseURL: "https://casamento-amanda-mauricio-default-rtdb.firebaseio.com",
      projectId: "casamento-amanda-mauricio",
      storageBucket: "casamento-amanda-mauricio.appspot.com",
      messagingSenderId: "1033630818479",
      appId: "1:1033630818479:web:0f4f59df3ec85ed9b0745a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const presentes = document.querySelectorAll(".presentes li");
    const refPresente = ref(db, "presentes");

    onValue(refPresente, (snapshot) => {
      const dados = snapshot.val() || {};
      presentes.forEach(li => {
        const nome = li.innerText.split(" - ")[0];
        if (dados[nome]) {
          li.classList.add("adquirido");
        } else {
          li.classList.remove("adquirido");
        }
      });
    });

    presentes.forEach(li => {
      li.addEventListener("click", () => {
        const nome = li.innerText.split(" - ")[0];
        const refItem = ref(db, "presentes/" + nome);
        set(refItem, true);
      });
    });

    const mensagensRef = ref(db, "recados");
    const mensagensDiv = document.getElementById("mensagens");

    function carregarMensagens() {
      onValue(mensagensRef, snapshot => {
        mensagensDiv.innerHTML = "";
        const msgs = snapshot.val();
        for (const id in msgs) {
          const div = document.createElement("div");
          div.classList.add("mensagem");
          div.textContent = msgs[id];
          mensagensDiv.appendChild(div);
        }
      });
    }

    function enviarRecado() {
      const msg = document.getElementById("novaMensagem").value.trim();
      if (msg) {
        push(mensagensRef, msg);
        document.getElementById("novaMensagem").value = "";
      }
    }

    carregarMensagens();
  </script>
</body>
</html>
