<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casamento Amanda e Mauricio</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
  <header>
    <h1>Casamento Amanda & Mauricio</h1>
    <p>13 de junho de 2025</p>
    <nav>
      <button onclick="showTab('inicio')">Início</button>
      <button onclick="showTab('local')">Local</button>
      <button onclick="showTab('presentes')">Presentes</button>
      <button onclick="showTab('rsvp')">Confirme sua presença</button>
    </nav>
  </header>

  <main>
    <section id="inicio" class="tab active">
      <h2>Sejam bem-vindos ao nosso grande dia!</h2>
      <p>Santo Antônio como guia e o amor como combustível, enfim pousamos neste momento tão esperado. Com nossa co-pilota mais especial, nossa filha, ao nosso lado, celebramos o que sempre foi destino: dizer 'SIM'.</p>
    </section>

    <section id="local" class="tab">
      <h2>Local da Cerimônia</h2>
      <p><strong>19h45</strong> - Comunidade São Pedro e São Paulo</p>
      <p>Rua Benedito Barbosa de Oliveira - Jardim Bom Retiro (Nova Veneza), Sumaré - SP</p>

      <h2>Recepção</h2>
      <p>Recanto Santo Antônio - Pomares do Quilombo</p>
      <p>Rua dos Pequis - Jardim Marchissolo, Sumaré - SP</p>
    </section>

    <section id="presentes" class="tab">
      <h2 style="font-size: 1.2rem; font-weight: 500;">Muito obrigado por estarem ao nosso lado nesse momento tão especial! Cada presente escolhido com carinho – seja em forma de cota ou item físico – representa muito mais do que um gesto material. É uma demonstração de amor, presença e apoio que levaremos para sempre em nossos corações.</h2>
      <h2 style="font-size: 1.2rem; font-weight: 500;">Muito obrigado por estarem ao nosso lado nesse momento especial! Sabemos que cada presente representa o amor, presença e apoio que temos de nossos amigos e familiares e sempre levaremos em nossos corações.</h2>

      <h3>Como Presentear</h3>
      <p>Queridos amigos e familiares - Alguns dos presentes da nossa lista estão disponíveis em formato de cotas em dinheiro. Essa opção foi pensada para facilitar: assim, vocês podem escolher o valor que desejarem e fazer a contribuição via Pix, com toda a praticidade — sem sair de casa e sem pagar frete.</p>
      <p>Alguns dos presentes da nossa lista estão disponíveis em formato de cotas em dinheiro. Essa opção foi pensada para facilitar: assim, vocês podem escolher o valor que desejarem e fazer a contribuição via Pix, com toda a praticidade — sem sair de casa e sem pagar frete.</p>
      <p>Escolha um dos valores abaixo e envie sua contribuição via Pix.</p>
      <p><strong>Chave Pix:</strong> 19981870068</p>
      <p><strong>Nome:</strong> Amanda Evangelista Leite</p>
      <div class="cotas">
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button> 
        <button>R$200</button>
        <button>R$250</button>
        <button>R$350</button>
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$450</button>
        <button>R$500</button>
        <button>R$650</button>
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$750</button>
        <button>R$800</button>
        <button>R$950</button>
        <button>R$1150</button>
        <button>R$1000</button>
        <button>R$1500</button>
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$200</button>
        <button>R$300</button>
        <button>R$400</button>
        <button>R$500</button>
        <button>R$600</button>
        <button>R$700</button>
        <button>R$800</button>
        <button>R$900</button>
        <button>R$1000</button>
        <button>R$1100</button>
        <button>R$1200/button>
        <button>R$1300/button>
        <button>Outro valor</button>
      </div>

      <h3>Mas se preferir, você pode escolher um item da nossa lista para nos presentear e nos entregar durante a festa.</h3>
      <h3>Mas se preferir, temos uma lista com itens para presentear e nos entregar durante a festa.</h3>
      <ul class="presentes">
        <li>Jogo de cama - <a href="#" target="_blank">ver item</a></li>
        <li>Panela de pressão - <a href="#" target="_blank">ver item</a></li>
        <li>Liquidificador - <a href="#" target="_blank">ver item</a></li>
        <li>Conjunto de pratos - <a href="#" target="_blank">ver item</a></li>
        <li>Jogo de cama - <a href="#" target="_blank">ver item</a></li>
        <li>Panela de pressão - <a href="#" target="_blank">ver item</a></li>
        <li>Liquidificador - <a href="#" target="_blank">ver item</a></li>
        <li>Conjunto de pratos - <a href="#" target="_blank">ver item</a></li>
      </ul>
    </section>

    <section id="rsvp" class="tab">
      <h2>Confirmação de Presença</h2>
      <p>Em breve você poderá confirmar sua presença por aqui.</p>
    </section>
  </main>

  <footer>
    <p>Com carinho, Amanda & Mauricio</p>
  </footer>

  <script>
    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }
  </script>

  <!-- Firebase SDK e lógica de presentes -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, onValue, set, remove } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCVMEkMSwvYOzC83eQSxkRS655GSOmAPoA",
      authDomain: "casamento-amanda-mauricio.firebaseapp.com",
      databaseURL: "https://casamento-amanda-mauricio-default-rtdb.firebaseio.com",
      projectId: "casamento-amanda-mauricio",
      storageBucket: "casamento-amanda-mauricio.firebasestorage.app",
      messagingSenderId: "1033630818479",
      appId: "1:1033630818479:web:0f4f59df3ec85ed9b0745a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const cotas = ["R$50", "R$100", "R$150", "Outro valor"];
    const botoesCotas = document.querySelectorAll(".cotas button");
    const listaPresentes = document.querySelectorAll(".presentes li");

    function nomePresente(el) {
      return el.innerText.replace("✔️", "").split(" - ")[0].trim();
    }

    function atualizarEstado(snapshot) {
      const dados = snapshot.val() || {};

      // Cotas
      botoesCotas.forEach(botao => {
        const nome = botao.innerText.replace("✔️", "").trim();
        if (dados[nome]) {
          botao.disabled = true;
          botao.innerText = "✔️ Presente escolhido";
          botao.classList.add("adquirido");
        } else {
          botao.disabled = false;
          botao.innerText = nome;
          botao.classList.remove("adquirido");
        }
      });

      // Presentes físicos
      listaPresentes.forEach(li => {
        const nome = nomePresente(li);
        if (dados[nome]) {
          li.classList.add("adquirido");
          if (!li.innerText.startsWith("✔️")) {
            li.innerHTML = "✔️ " + li.innerHTML;
          }
        } else {
          li.classList.remove("adquirido");
          li.innerHTML = li.innerHTML.replace("✔️ ", "");
        }
      });
    }

    onValue(ref(db, "presentes"), atualizarEstado);

    botoesCotas.forEach(botao => {
      botao.addEventListener("click", () => {
        const nome = botao.innerText.replace("✔️", "").trim();
        const refPresente = ref(db, "presentes/" + nome);
        if (!botao.classList.contains("adquirido")) {
          set(refPresente, true);
        } else {
          remove(refPresente);
        }
      });
    });

    listaPresentes.forEach(li => {
      li.addEventListener("click", () => {
        const nome = nomePresente(li);
        const refPresente = ref(db, "presentes/" + nome);
        if (!li.classList.contains("adquirido")) {
          set(refPresente, true);
        } else {
          remove(refPresente);
        }
      });
    });
  </script>
</body>
</html>
