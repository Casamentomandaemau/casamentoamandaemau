<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Casamento Amanda e Mauricio</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Quicksand:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Quicksand', sans-serif;
      margin: 0;
      background-color: #fffaf5;
      color: #333;
    }

    header {
      text-align: center;
      padding: 2rem;
      background-color: #f3ede5;
    }

    header h1 {
      font-family: 'Playfair Display', serif;
      color: #a0522d;
      font-size: 2rem;
    }

    nav button {
      margin: 0.3rem;
      padding: 0.6rem 1.2rem;
      border: none;
      background-color: #a0522d;
      color: white;
      font-weight: bold;
      border-radius: 8px;
      cursor: pointer;
    }

    nav button:hover {
      background-color: #8b4513;
    }

    main {
      padding: 2rem;
    }

    .tab {
      display: none;
    }

    .tab.active {
      display: block;
    }

    .cotas button {
      margin: 5px;
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #a0522d;
      background-color: #fff;
      cursor: pointer;
      border-radius: 8px;
    }

    .cotas button.adquirido {
      background-color: #ddd;
      color: gray;
      cursor: not-allowed;
    }

    .presentes li {
      margin: 8px 0;
      cursor: pointer;
    }

    .presentes li.adquirido {
      color: gray;
      text-decoration: line-through;
    }

    footer {
      text-align: center;
      background-color: #f3ede5;
      padding: 1rem;
      font-size: 0.9rem;
    }

    .mensagem-agradecimento {
      font-size: 1rem;
      color: #a0522d;
      font-style: italic;
      margin-bottom: 1rem;
    }

    #inicio {
      background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/e/e7/Wedding_rings_icon.svg/1200px-Wedding_rings_icon.svg.png');
      background-repeat: no-repeat;
      background-position: center bottom;
      background-size: 120px;
      padding-bottom: 140px;
    }
  </style>
</head>
<body>
  <header>
    <h1>Casamento Amanda & Mauricio</h1>
    <p>13 de junho de 2025</p>
    <nav>
      <button onclick="showTab('inicio')">Início</button>
      <button onclick="showTab('local')">Local</button>
      <button onclick="showTab('presentes')">Presentes</button>
      <button onclick="showTab('rsvp')">Confirme sua presença</button>
    </nav>
  </header>

  <main>
    <section id="inicio" class="tab active">
      <h2>Sejam bem-vindos ao nosso grande dia!</h2>
      <p>Santo Antônio como guia e o amor como combustível, enfim pousamos neste momento tão esperado. Com nossa co-pilota mais especial, nossa filha, ao nosso lado, celebramos o que sempre foi destino: dizer 'SIM'.</p>
    </section>

    <section id="local" class="tab">
      <h2>Local da Cerimônia</h2>
      <p><strong>19h45</strong> - Comunidade São Pedro e São Paulo</p>
      <p>Rua Benedito Barbosa de Oliveira - Jardim Bom Retiro (Nova Veneza), Sumaré - SP</p>
      
      <h2>Recepção</h2>
      <p>Recanto Santo Antônio - Pomares do Quilombo</p>
      <p>Rua dos Pequis - Jardim Marchissolo, Sumaré - SP</p>
    </section>

    <section id="presentes" class="tab">
      <p class="mensagem-agradecimento">Muito obrigado por estarem ao nosso lado nesse momento especial! Sabemos que cada presente representa o amor, presença e apoio que temos de nossos amigos e familiares e sempre os levaremos em nossos corações.</p>

      <h3>Como Presentear</h3>
      <p>Alguns dos presentes da nossa lista estão disponíveis em formato de cotas em dinheiro. Escolha um dos valores abaixo e envie sua contribuição via Pix.</p>
      <p><strong>Chave Pix:</strong> 19981870068</p>
      <p><strong>Nome:</strong> Amanda Evangelista Leite</p>
      <div class="cotas">
        <button>R$50</button>
        <button>R$100</button>
        <button>R$150</button>
        <button>R$200</button>
        <button>Outro valor</button>
      </div>

      <h3>Lista de Presentes Físicos</h3>
      <ul class="presentes">
        <li>Jogo de cama - <a href="#" target="_blank">ver item</a></li>
        <li>Panela de pressão - <a href="#" target="_blank">ver item</a></li>
        <li>Liquidificador - <a href="#" target="_blank">ver item</a></li>
        <li>Conjunto de pratos - <a href="#" target="_blank">ver item</a></li>
      </ul>
    </section>

    <section id="rsvp" class="tab">
      <h2>Confirmação de Presença</h2>
      <p>Em breve você poderá confirmar sua presença por aqui.</p>
    </section>
  </main>

  <footer>
    <p>Com carinho, Amanda & Mauricio</p>
  </footer>

  <script>
    function showTab(tabId) {
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.getElementById(tabId).classList.add('active');
    }
  </script>

  <!-- Firebase e controle de presentes -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
    import { getDatabase, ref, onValue, set, remove } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyCVMEkMSwvYOzC83eQSxkRS655GSOmAPoA",
      authDomain: "casamento-amanda-mauricio.firebaseapp.com",
      databaseURL: "https://casamento-amanda-mauricio-default-rtdb.firebaseio.com",
      projectId: "casamento-amanda-mauricio",
      storageBucket: "casamento-amanda-mauricio.firebasestorage.app",
      messagingSenderId: "1033630818479",
      appId: "1:1033630818479:web:0f4f59df3ec85ed9b0745a"
    };

    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);

    const cotas = document.querySelectorAll(".cotas button");
    const presentes = document.querySelectorAll(".presentes li");

    function nomePresente(el) {
      return el.innerText.split(" - ")[0].replace("✔️", "").trim();
    }

    function atualizar(snapshot) {
      const dados = snapshot.val() || {};

      cotas.forEach(botao => {
        const nome = botao.innerText.replace("✔️", "").trim();
        if (dados[nome]) {
          botao.disabled = true;
          botao.innerText = "✔️ Presente escolhido";
          botao.classList.add("adquirido");
        } else {
          botao.disabled = false;
          botao.innerText = nome;
          botao.classList.remove("adquirido");
        }
      });

      presentes.forEach(li => {
        const nome = nomePresente(li);
        if (dados[nome]) {
          li.classList.add("adquirido");
          if (!li.innerText.startsWith("✔️")) {
            li.innerHTML = "✔️ " + li.innerHTML;
          }
        } else {
          li.classList.remove("adquirido");
          li.innerHTML = li.innerHTML.replace("✔️ ", "");
        }
      });
    }

    onValue(ref(db, "presentes"), atualizar);

    cotas.forEach(botao => {
      botao.addEventListener("click", () => {
        const nome = botao.innerText.replace("✔️", "").trim();
        const refPresente = ref(db, "presentes/" + nome);
        if (!botao.classList.contains("adquirido")) {
          set(refPresente, true);
        } else {
          remove(refPresente);
        }
      });
    });

    presentes.forEach(li => {
      li.addEventListener("click", () => {
        const nome = nomePresente(li);
        const refPresente = ref(db, "presentes/" + nome);
        if (!li.classList.contains("adquirido")) {
          set(refPresente, true);
        } else {
          remove(refPresente);
        }
      });
    });
  </script>
</body>
</html>
