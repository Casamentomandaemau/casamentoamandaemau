<!-- index.html -->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Amanda & Mauricio ‚Äì Nosso Casamento</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      margin: 0;
      background: #fff8f0;
      color: #4b3f2a;
    }

    header {
      background: url('https://i.imgur.com/O1Y9ZhA.png') no-repeat center center;
      background-size: contain;
      text-align: center;
      padding: 3rem 1rem 2rem;
      background-color: #fff;
    }

    header h1 {
      font-family: 'Great Vibes', cursive;
      font-size: 3rem;
      margin-bottom: 0.5rem;
      color: #8B4E3A;
    }

    header p {
      font-size: 1.1rem;
      max-width: 600px;
      margin: 0 auto;
      font-style: italic;
    }

    nav {
      display: flex;
      justify-content: center;
      background-color: #d7b49e;
      flex-wrap: wrap;
    }

    nav button {
      background: none;
      border: none;
      padding: 1rem;
      font-size: 1rem;
      cursor: pointer;
      color: #4b3f2a;
      font-weight: bold;
    }

    nav button.active {
      border-bottom: 3px solid #8B4E3A;
    }

    section {
      display: none;
      padding: 2rem 1rem;
      max-width: 900px;
      margin: auto;
    }

    section.active {
      display: block;
    }

    .countdown {
      font-size: 1.5rem;
      margin: 1rem 0;
    }

    .gift-item {
      border: 1px solid #ccc;
      margin: 1rem 0;
      padding: 1rem;
      border-radius: 10px;
      background: #fff;
    }

    .gift-item button {
      margin-top: 0.5rem;
    }

    input, textarea {
      width: 100%;
      padding: 0.75rem;
      margin: 0.5rem 0;
      border-radius: 8px;
      border: 1px solid #ccc;
    }

    .photo-grid img {
      width: 100%;
      max-width: 200px;
      margin: 0.5rem;
      border-radius: 12px;
    }

    @media screen and (min-width: 600px) {
      .photo-grid {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1>Amanda & Mauricio</h1>
    <div class="countdown" id="countdown"></div>
    <p>Sejam bem-vindos ao nosso grande dia!<br>
    Santo Ant√¥nio como guia e o amor como combust√≠vel, enfim pousamos neste momento t√£o esperado. Com nossa co-pilota mais especial, nossa filha, ao nosso lado, celebramos o que sempre foi destino: dizer 'SIM'.</p>
  </header>

  <nav>
    <button onclick="showTab('inicio')" class="active">In√≠cio</button>
    <button onclick="showTab('local')">Local</button>
    <button onclick="showTab('presentes')">Presentes</button>
    <button onclick="showTab('rsvp')">RSVP</button>
    <button onclick="showTab('recados')">Mural</button>
  </nav>

  <section id="inicio" class="active">
    <h2>Contagem Regressiva</h2>
    <p id="countdownDisplay"></p>
  </section>

  <section id="local">
    <h2>Local da Cerim√¥nia</h2>
    <p>üìç 19h45 - Comunidade S√£o Pedro e S√£o Paulo<br>Rua Benedito Barbosa de Oliveira - Jardim Bom Retiro (Nova Veneza), Sumar√© - SP</p>
    <h2>Recep√ß√£o</h2>
    <p>üéâ Recanto Santo Ant√¥nio - Pomares do Quilombo<br>Rua dos Pequis - Jardim Marchissolo, Sumar√© - SP</p>
  </section>

            <!-- Lista de Presentes -->
          <section class="tab-content" id="presentes">
            <h2>Lista de Presentes</h2>
            <p>Muito obrigado por estarem ao nosso lado nesse momento especial! Sabemos que cada presente representa o amor, presen√ßa e apoio que temos de nossos amigos e familiares e sempre levaremos em nossos cora√ß√µes.</p>
            <h3>Como Presentear</h3>
            <p>Queridos familiares e amigos, nossa lista de presentes est√° dispon√≠vel em formato de cotas em dinheiro. Essa op√ß√£o foi pensada para facilitar, assim, voc√™s podem escolher o valor que desejarem e fazer a contribui√ß√£o via Pix, com toda a praticidade ‚Äî sem sair de casa e sem pagar frete.</p>
            <p><strong>Chave Pix:</strong> 19981870068<br><strong>Nome:</strong> Amanda Evangelista Leite</p>
            <div class="pix-options">
              <button>R$50</button><button>R$100</button><button>R$150</button>
              <button>R$250</button><button>R$450</button><button>R$500</button>
              <button>R$650</button><button>R$800</button><button>R$1000</button><button>Outro valor</button>
            </div>
            <p>Mas se preferir, temos uma lista com itens para presentear e nos entregar durante a festa:</p>
            <ul id="lista-presentes">
              <li data-id="liquidificador">
                Liquidificador 127v - 
                <a href="https://www.oster.com.br/liquidificador-1400-full-oster-preto/p?idsku=4873" target="_blank">Ver item</a>
                <button onclick="selecionarPresente('liquidificador')">Escolher</button>
              </li>
              <li data-id="batedeira">
                Batedeira Planet√°ria 127v - 
                <a href="#" target="_blank">Ver item</a>
                <button onclick="selecionarPresente('batedeira')">Escolher</button>
              </li>
              <li data-id="panela">
                Panela El√©trica para arroz 127v - 
                <a href="https://loja.electrolux.com.br/panela-eletrica-easyline-7-xicaras-13l-rcb50-electrolux/p?idsku=2001971" target="_blank">Ver item</a>
                <button onclick="selecionarPresente('panela')">Escolher</button>
              </li>
              <li data-id="jarra">
                Conjunto de jarra com copos, Lyor - 
                <a href="https://wolycasa.com.br/products/conjunto-jarra-com-6-copos-de-vidro-diamante-1l-300ml-lyor" target="_blank">Ver item</a>
                <button onclick="selecionarPresente('jarra')">Escolher</button>
              </li>
              <li data-id="jantar">
                Aparelho de Jantar 30 pe√ßas - 
                <a href="https://a.co/d/6UiuT1p" target="_blank">Ver item</a>
                <button onclick="selecionarPresente('jantar')">Escolher</button>
              </li>
            </ul>
          </section>

          <!-- RSVP -->
          <section class="tab-content" id="rsvp">
            <h2>Confirme sua Presen√ßa</h2>
            <form id="form-rsvp">
              <label>Nome completo:<br><input type="text" name="nome" required></label><br>
              <label>Acompanhantes adultos:<br><input type="number" name="adultos" min="0"></label><br>
              <label>Crian√ßas e idades:<br><input type="text" name="criancas"></label><br>
              <button type="submit">Confirmar Presen√ßa</button>
            </form>
          </section>

          <!-- Mural de Recados -->
          <section class="tab-content" id="mural">
            <h2>Mural de Recados</h2>
            <form id="form-recado">
              <label>Seu nome:<br><input type="text" id="nome-recado" required></label><br>
              <label>Seu recado:<br><textarea id="mensagem-recado" required></textarea></label><br>
              <button type="submit">Enviar Recado</button>
            </form>
            <ul id="lista-recados"></ul>
          </section>

        </main>

        <footer>
          <p> Com carinho Amanda & Mauricio </p>
        </footer>

        <!-- Firebase SDK -->
        <script type="module">
          import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
          import { getDatabase, ref, onValue, set, remove } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

          const firebaseConfig = {
            apiKey: "SUA_API_KEY",
            authDomain: "SEU_AUTH_DOMAIN",
            databaseURL: "SUA_DATABASE_URL",
            projectId: "SEU_PROJECT_ID",
            storageBucket: "SEU_BUCKET",
            messagingSenderId: "SEU_SENDER_ID",
            appId: "SEU_APP_ID"
          };

          const app = initializeApp(firebaseConfig);
          const db = getDatabase(app);

          const listaRef = ref(db, 'presentesEscolhidos');
          const muralRef = ref(db, 'recados');

          function atualizarLista() {
            onValue(listaRef, (snapshot) => {
              const dados = snapshot.val() || {};
              document.querySelectorAll('#lista-presentes li').forEach((li) => {
                const id = li.dataset.id;
                const botao = li.querySelector('button');
                if (dados[id]) {
                  botao.disabled = true;
                  botao.textContent = "Escolhido";
                } else {
                  botao.disabled = false;
                  botao.textContent = "Escolher";
                }
              });
            });
          }

          window.selecionarPresente = function(id) {
            const confirmacao = confirm("Tem certeza que deseja escolher esse presente?");
            if (!confirmacao) return;
            set(ref(db, 'presentesEscolhidos/' + id), true);
          };

          document.getElementById("form-recado").addEventListener("submit", (e) => {
            e.preventDefault();
            const nome = document.getElementById("nome-recado").value.trim();
            const mensagem = document.getElementById("mensagem-recado").value.trim();
            const novaChave = Date.now();
            if (nome && mensagem) {
              set(ref(db, 'recados/' + novaChave), { nome, mensagem });
              document.getElementById("form-recado").reset();
            }
          });

          onValue(muralRef, (snapshot) => {
            const lista = document.getElementById("lista-recados");
            lista.innerHTML = '';
            const dados = snapshot.val() || {};
            Object.values(dados).forEach(({ nome, mensagem }) => {
              const li = document.createElement("li");
              li.textContent = `${nome}: ${mensagem}`;
              lista.appendChild(li);
            });
          });

          document.getElementById("form-rsvp").addEventListener("submit", function (e) {
            e.preventDefault();
            const dados = new FormData(this);
            const corpo = [...dados.entries()].map(([k, v]) => `${k}: ${v}`).join("\n");
            const mailto = `mailto:casandomandaemau@gmail.com?subject=Confirma√ß√£o de Presen√ßa&body=${encodeURIComponent(corpo)}`;
            window.location.href = mailto;
          });

          atualizarLista();
        </script>
      </body>
    </html>
